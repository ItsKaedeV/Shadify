var WebShaderWallpaper;(()=>{"use strict";var t={549:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.WebShaderWallpaper=void 0,function(t){var e={allowMouse:!0,resolution:2,speedFactor:1,target:null,fullscreen:!0,autoUpdate:!0};function i(t,e,i){var s=t.createShader(i);if(t.shaderSource(s,e),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(s);throw"Could not compile WebGL program. \n\n".concat(o)}return s}var s=function(){function t(t,s){var o,n,r,a,h,l,d,u,c,g,v,f,p=this;if(void 0===s&&(s=e),this.running=!0,this.eventHandlerResize=this.resize.bind(this),this.eventHandlerMouse=this.mouse.bind(this),this.config=s,null!==(o=(d=this.config).allowMouse)&&void 0!==o||(d.allowMouse=e.allowMouse),null!==(n=(u=this.config).autoUpdate)&&void 0!==n||(u.autoUpdate=e.autoUpdate),null!==(r=(c=this.config).fullscreen)&&void 0!==r||(c.fullscreen=e.fullscreen),null!==(a=(g=this.config).speedFactor)&&void 0!==a||(g.speedFactor=e.speedFactor),null!==(h=(v=this.config).target)&&void 0!==h||(v.target=e.target),null!==(l=(f=this.config).resolution)&&void 0!==l||(f.resolution=e.resolution),null==s?void 0:s.target){if("canvas"!==this.canvas.tagName)throw new Error("Target canvas is not a canvas element");this.canvas=s.target}else this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas);this.config.fullscreen&&(this.canvas.style.position="fixed",this.canvas.style.left="0%",this.canvas.style.right="0%",this.canvas.style.top="0%",this.canvas.style.bottom="0%",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.zIndex="-1"),this.resize(),this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl"),this.pid=this.gl.createProgram(),this.vert=i(this.gl,"\n      attribute vec2 coords;\n      void main(void) {\n          gl_Position = vec4(coords.xy, 0.0, 1.0);\n      }\n  ",this.gl.VERTEX_SHADER),this.gl.attachShader(this.pid,this.vert),this.frag=i(this.gl,t,this.gl.FRAGMENT_SHADER),this.gl.attachShader(this.pid,this.frag),this.gl.linkProgram(this.pid),this.gl.useProgram(this.pid);var m=new Float32Array([-1,3,-1,-1,3,-1]);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.gl.createBuffer()),this.gl.bufferData(this.gl.ARRAY_BUFFER,m,this.gl.STATIC_DRAW);var w=this.gl.getAttribLocation(this.pid,"coords");this.gl.vertexAttribPointer(w,2,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(w),this.uniformResolution=this.gl.getUniformLocation(this.pid,"resolution"),this.uniformTime=this.gl.getUniformLocation(this.pid,"time"),this.uniformMouse=this.gl.getUniformLocation(this.pid,"mouse"),window.addEventListener("resize",this.eventHandlerResize),window.addEventListener("mousemove",this.eventHandlerMouse);var b=function(){p.update(),p.running&&requestAnimationFrame(b)};this.config.autoUpdate&&b()}return t.prototype.resize=function(){this.config.fullscreen&&(this.canvas.width=window.innerWidth/this.config.resolution,this.canvas.height=window.innerHeight/this.config.resolution)},t.prototype.mouse=function(t){if(!this.config.allowMouse)return this.mouseX=window.innerWidth/2,void(this.mouseY=window.innerHeight/2);this.mouseX=t.clientX,this.mouseY=t.clientY},t.prototype.update=function(){var t=this.canvas,e=t.width,i=t.height;this.gl.uniform2f(this.uniformMouse,this.mouseX/e/this.config.resolution,1-this.mouseY/i/this.config.resolution),this.gl.uniform2f(this.uniformResolution,e,i),this.gl.uniform1f(this.uniformTime,performance.now()/1e3*this.config.speedFactor),this.gl.viewport(0,0,e,i),this.gl.clearColor(0,0,0,0),this.gl.drawArrays(this.gl.TRIANGLES,0,3)},t.prototype.destroy=function(){this.gl.deleteProgram(this.pid),this.gl.deleteShader(this.vert),this.gl.deleteShader(this.frag),this.running=!1,window.removeEventListener("resize",this.eventHandlerResize),window.removeEventListener("mousemove",this.eventHandlerMouse)},t}();t.Wallpaper=s}(i||(e.WebShaderWallpaper=i={}))},607:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var s=i(549);e.default=s.WebShaderWallpaper,Object.assign(t.exports,s.WebShaderWallpaper)}},e={},i=function i(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}(607);WebShaderWallpaper=i})();
//# sourceMappingURL=WebShaderWallpaper.js.map